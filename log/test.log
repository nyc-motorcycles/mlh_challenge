  [1m[36m (199.4ms)[0m  [1mDROP DATABASE IF EXISTS "mlh_test"[0m
  [1m[35m (464.7ms)[0m  CREATE DATABASE "mlh_test" ENCODING = 'unicode'
  [1m[36mSQL (1.1ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (3.7ms)[0m  CREATE TABLE "hackathon_users" ("id" serial primary key, "user_id" integer, "hackathon_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX  "index_hackathon_users_on_hackathon_id" ON "hackathon_users" USING btree ("hackathon_id")[0m
  [1m[35m (1.2ms)[0m  CREATE  INDEX  "index_hackathon_users_on_user_id" ON "hackathon_users" USING btree ("user_id")
  [1m[36m (2.9ms)[0m  [1mCREATE TABLE "hackathons" ("id" serial primary key, "name" character varying, "location" character varying, "date" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (19.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "name" character varying, "referrer_id" integer, "referral_code" character varying) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.0ms)[0m  CREATE  INDEX  "index_users_on_referrer_id" ON "users" USING btree ("referrer_id")
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170501002602')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170428003255')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170428014631')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170428014813')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170428014822')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170430233527')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (6.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (24.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "Mj-hFZ725gLJmAKfcjuxtA"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "Mj-hFZ725gLJmAKfcjuxtA"], ["encrypted_password", "$2a$04$puDfsIGdGBUNaSudNcsFO.2XpWZ06Xtkg7eNoY8Rm7nE6sd52r/iy"], ["created_at", "2017-05-01 02:51:44.672499"], ["updated_at", "2017-05-01 02:51:44.672499"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/users/sign_up" for 127.0.0.1 at 2017-04-30 22:59:56 -0400
Processing by RegistrationsController#new as HTML
  Rendered users/registrations/new.html.erb within layouts/application (440.3ms)
Completed 200 OK in 5918ms (Views: 5894.2ms | ActiveRecord: 2.4ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:00:02 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (4.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "C9Ezmy7IFBG8sChVpTwI0g"]]
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$4/jmaimLLlzRm6MFgelujeCw/91SD8KXjkM3.WZFKCXK1whThFkhW"], ["name", "New user"], ["created_at", "2017-05-01 03:00:02.525324"], ["updated_at", "2017-05-01 03:00:02.525324"], ["referral_code", "C9Ezmy7IFBG8sChVpTwI0g"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2017-05-01 03:00:02.540898"], ["current_sign_in_at", "2017-05-01 03:00:02.540898"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:00:02.542773"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 69ms (ActiveRecord: 8.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:00:02 -0400
Processing by WelcomeController#index as HTML
  [1m[36mHackathon Load (47.0ms)[0m  [1mSELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC[0m
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
Completed 200 OK in 73ms (Views: 17.4ms | ActiveRecord: 48.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Started GET "/users/sign_up?referral_code=test_referral_code" for 127.0.0.1 at 2017-04-30 23:02:33 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"test_referral_code"}
  Rendered users/registrations/new.html.erb within layouts/application (399.5ms)
Completed 200 OK in 635ms (Views: 610.8ms | ActiveRecord: 2.9ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "FzSL8z1zU_Qn9pV0i-EIDg"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "FzSL8z1zU_Qn9pV0i-EIDg"], ["encrypted_password", "$2a$04$BS9c33V52DkGK9UFNVoLaeiaGT2iu.FgsRpVMZ2FzdsrMKECtCSPK"], ["created_at", "2017-05-01 03:02:51.593872"], ["updated_at", "2017-05-01 03:02:51.593872"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Started GET "/users/sign_up?referral_code=test_referral_code" for 127.0.0.1 at 2017-04-30 23:04:31 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"test_referral_code"}
  Rendered users/registrations/new.html.erb within layouts/application (385.7ms)
Completed 200 OK in 625ms (Views: 602.9ms | ActiveRecord: 2.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/users/sign_up?referral_code=test_referral_code" for 127.0.0.1 at 2017-04-30 23:04:54 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"test_referral_code"}
  Rendered users/registrations/new.html.erb within layouts/application (416.5ms)
Completed 200 OK in 679ms (Views: 648.7ms | ActiveRecord: 2.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:04:54 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"test_referral_code", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "zNSbJNJK6Fv71mtDkqbBDQ"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$f508spfNjLLFMcDhOopz5eAEygc741755T.RoqpG5QGQjZm5Jg8AS"], ["name", "New user"], ["created_at", "2017-05-01 03:04:54.837578"], ["updated_at", "2017-05-01 03:04:54.837578"], ["referral_code", "zNSbJNJK6Fv71mtDkqbBDQ"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2017-05-01 03:04:54.844450"], ["current_sign_in_at", "2017-05-01 03:04:54.844450"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:04:54.845010"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "test_referral_code"]]
Completed 302 Found in 37ms (ActiveRecord: 2.1ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:04:54 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.6ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
Completed 200 OK in 15ms (Views: 9.6ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Started GET "/users/sign_up?referral_code=test_referral_code" for 127.0.0.1 at 2017-04-30 23:05:09 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"test_referral_code"}
  Rendered users/registrations/new.html.erb within layouts/application (383.4ms)
Completed 200 OK in 617ms (Views: 596.0ms | ActiveRecord: 2.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:05:10 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"test_referral_code", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "wNFxmOior0PsSaG1qW_gdg"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$5kMRUxSaLHDemqRKjYjvmO7FlWDGnNRnBhIoap.UpPTgBI/DlmMwC"], ["name", "New user"], ["created_at", "2017-05-01 03:05:10.407744"], ["updated_at", "2017-05-01 03:05:10.407744"], ["referral_code", "wNFxmOior0PsSaG1qW_gdg"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2017-05-01 03:05:10.416226"], ["current_sign_in_at", "2017-05-01 03:05:10.416226"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:05:10.416825"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "test_referral_code"]]
Completed 302 Found in 40ms (ActiveRecord: 2.2ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:05:10 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.5ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 5]]
Completed 200 OK in 13ms (Views: 8.0ms | ActiveRecord: 1.2ms)
Started GET "/users/5" for 127.0.0.1 at 2017-04-30 23:05:59 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 5]]
  [1m[35mHackathon Load (17.8ms)[0m  SELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC  [["user_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 5]]
  Rendered users/show.html.erb within layouts/application (53.9ms)
Completed 200 OK in 63ms (Views: 41.1ms | ActiveRecord: 20.0ms)
Started GET "/users/5" for 127.0.0.1 at 2017-04-30 23:07:06 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 5]]
  [1m[35mHackathon Load (0.2ms)[0m  SELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC  [["user_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 5]]
  Rendered users/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/users/sign_up?referral_code=test_referral_code" for 127.0.0.1 at 2017-04-30 23:07:22 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"test_referral_code"}
  Rendered users/registrations/new.html.erb within layouts/application (405.4ms)
Completed 200 OK in 649ms (Views: 625.0ms | ActiveRecord: 2.3ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:07:23 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"test_referral_code", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "jKJL5y90pRe65wGUD12grg"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$/2wPHVmPTgjkEAdbvTwi3uu9D9tNFQtaT1UjvUFjX2PYPo6UC.DXW"], ["name", "New user"], ["created_at", "2017-05-01 03:07:23.702481"], ["updated_at", "2017-05-01 03:07:23.702481"], ["referral_code", "jKJL5y90pRe65wGUD12grg"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2017-05-01 03:07:23.709159"], ["current_sign_in_at", "2017-05-01 03:07:23.709159"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:07:23.709681"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "test_referral_code"]]
Completed 302 Found in 39ms (ActiveRecord: 2.3ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:07:23 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.6ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 6]]
Completed 200 OK in 14ms (Views: 7.4ms | ActiveRecord: 1.4ms)
Started GET "/users/6" for 127.0.0.1 at 2017-04-30 23:07:23 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 6]]
  [1m[35mHackathon Load (0.3ms)[0m  SELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC  [["user_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 6]]
  Rendered users/show.html.erb within layouts/application (22.5ms)
Completed 200 OK in 30ms (Views: 27.0ms | ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/users/sign_up?referral_code=test_referral_code%29" for 127.0.0.1 at 2017-04-30 23:11:14 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"test_referral_code)"}
  Rendered users/registrations/new.html.erb within layouts/application (382.9ms)
Completed 200 OK in 613ms (Views: 589.4ms | ActiveRecord: 2.2ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:11:15 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"test_referral_code)", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "wrF4QGgcrQFnskXvdXCXNw"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$fhlybCnCW/BzDfBdGJTtKu4FcOyrBxCfetVZ664rPdoBFKA/zMxoK"], ["name", "New user"], ["created_at", "2017-05-01 03:11:15.189283"], ["updated_at", "2017-05-01 03:11:15.189283"], ["referral_code", "wrF4QGgcrQFnskXvdXCXNw"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2017-05-01 03:11:15.196574"], ["current_sign_in_at", "2017-05-01 03:11:15.196574"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:11:15.197136"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "test_referral_code)"]]
Completed 302 Found in 36ms (ActiveRecord: 2.4ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:11:15 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.9ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 7]]
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 1.8ms)
Started GET "/users/7" for 127.0.0.1 at 2017-04-30 23:11:15 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 7]]
  [1m[35mHackathon Load (0.4ms)[0m  SELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC  [["user_id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 7]]
  Rendered users/show.html.erb within layouts/application (23.5ms)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "xHpdi5vC9xeGEaAD0JvpLw"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "xHpdi5vC9xeGEaAD0JvpLw"], ["encrypted_password", "$2a$04$o/lLkNQPlJmPhkQAL/EsMuyIBTViuAZGaNxi7Hnuc4/pfmrodpmTK"], ["created_at", "2017-05-01 03:12:06.721857"], ["updated_at", "2017-05-01 03:12:06.721857"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "-rlmw-bf0SJJ8apj9cJiPA"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "-rlmw-bf0SJJ8apj9cJiPA"], ["encrypted_password", "$2a$04$G.FUqZBsrTVgkZu2JB.wnOtau6bJpRBK4hXnHaTFNn0oKLLZpbM.q"], ["created_at", "2017-05-01 03:12:37.817794"], ["updated_at", "2017-05-01 03:12:37.817794"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "s4_Mc6QyxOp1tsik5zdl-g"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "s4_Mc6QyxOp1tsik5zdl-g"], ["encrypted_password", "$2a$04$mtRPdq3pO83BWjnKV2R2buGl5oZpFjJFQDl1ydM8xyaPDud9GIr.S"], ["created_at", "2017-05-01 03:12:50.137927"], ["updated_at", "2017-05-01 03:12:50.137927"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up?referral_code=s4_Mc6QyxOp1tsik5zdl-g%29" for 127.0.0.1 at 2017-04-30 23:12:50 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"s4_Mc6QyxOp1tsik5zdl-g)"}
  Rendered users/registrations/new.html.erb within layouts/application (377.4ms)
Completed 200 OK in 603ms (Views: 590.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:12:50 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"s4_Mc6QyxOp1tsik5zdl-g)", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "KtsH3QIn7q054KtWoNKHUg"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$WTZlu4utGLhOztS/DJyRN.4H5A2LAxLMCH8g.op37rm1qk9vzwy/W"], ["name", "New user"], ["created_at", "2017-05-01 03:12:50.788323"], ["updated_at", "2017-05-01 03:12:50.788323"], ["referral_code", "KtsH3QIn7q054KtWoNKHUg"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2017-05-01 03:12:50.790750"], ["current_sign_in_at", "2017-05-01 03:12:50.790750"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:12:50.791267"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "s4_Mc6QyxOp1tsik5zdl-g)"]]
Completed 302 Found in 20ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:12:50 -0400
Processing by WelcomeController#index as HTML
  [1m[36mHackathon Load (0.6ms)[0m  [1mSELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC[0m
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 11]]
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 1.3ms)
Started GET "/users/11" for 127.0.0.1 at 2017-04-30 23:12:50 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 11]]
  [1m[36mHackathon Load (0.3ms)[0m  [1mSELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC[0m  [["user_id", 11]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 11]]
  Rendered users/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 34ms (Views: 29.2ms | ActiveRecord: 3.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 10]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "LzLfge7VbbQCIunrTdQK3Q"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "LzLfge7VbbQCIunrTdQK3Q"], ["encrypted_password", "$2a$04$roSRSXcZCjo4zSljNY16K.KmYnOgwL2v7h56UxgD8LdTy74x4u4v2"], ["created_at", "2017-05-01 03:14:25.575127"], ["updated_at", "2017-05-01 03:14:25.575127"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up?referral_code=LzLfge7VbbQCIunrTdQK3Q%29" for 127.0.0.1 at 2017-04-30 23:14:25 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"LzLfge7VbbQCIunrTdQK3Q)"}
  Rendered users/registrations/new.html.erb within layouts/application (392.3ms)
Completed 200 OK in 616ms (Views: 603.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:15:27 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"LzLfge7VbbQCIunrTdQK3Q)", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "BkuWmpXbb4l2-ZoWy9y52Q"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$jSV7Mw9d3G8Tm1HaDk.Bd.9ef4qnfor.IPj1V6reVQ9JKqUneuzDa"], ["name", "New user"], ["created_at", "2017-05-01 03:15:27.363691"], ["updated_at", "2017-05-01 03:15:27.363691"], ["referral_code", "BkuWmpXbb4l2-ZoWy9y52Q"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2017-05-01 03:15:27.366737"], ["current_sign_in_at", "2017-05-01 03:15:27.366737"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:15:27.367335"], ["id", 13]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "LzLfge7VbbQCIunrTdQK3Q)"]]
Completed 302 Found in 24ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:15:27 -0400
Processing by WelcomeController#index as HTML
  [1m[36mHackathon Load (0.6ms)[0m  [1mSELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC[0m
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 13]]
Completed 200 OK in 16ms (Views: 9.8ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "LxwEVwImfYM2CO2nxQp11w"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "LxwEVwImfYM2CO2nxQp11w"], ["encrypted_password", "$2a$04$79ubelDHfukElaBasPBRquWl8wqDSgxLlHRyF5beuEQ79mNjjVOPa"], ["created_at", "2017-05-01 03:15:42.240828"], ["updated_at", "2017-05-01 03:15:42.240828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up?referral_code=LxwEVwImfYM2CO2nxQp11w%29" for 127.0.0.1 at 2017-04-30 23:15:42 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"LxwEVwImfYM2CO2nxQp11w)"}
  Rendered users/registrations/new.html.erb within layouts/application (395.5ms)
Completed 200 OK in 640ms (Views: 625.9ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:15:42 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"LxwEVwImfYM2CO2nxQp11w)", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "CbHcfaEIP1lh3_qGoPZJow"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$DZ2THQVSgpwrapwZmHE11ui9B7mchz.YAOhY23LywI8/OspjCI0Ei"], ["name", "New user"], ["created_at", "2017-05-01 03:15:42.939115"], ["updated_at", "2017-05-01 03:15:42.939115"], ["referral_code", "CbHcfaEIP1lh3_qGoPZJow"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2017-05-01 03:15:42.941674"], ["current_sign_in_at", "2017-05-01 03:15:42.941674"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:15:42.942157"], ["id", 15]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "LxwEVwImfYM2CO2nxQp11w)"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "LxwEVwImfYM2CO2nxQp11w)"]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
Completed 302 Found in 66994ms (ActiveRecord: 2.4ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:16:49 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.6ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 15]]
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "ZjdK9X9sgIOKe6X7l_4JxA"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "ZjdK9X9sgIOKe6X7l_4JxA"], ["encrypted_password", "$2a$04$X33H4YRLJFWhznRY2UmImOc06nwcf02E7gME9kkA8l9DCGl19WQ2S"], ["created_at", "2017-05-01 03:16:53.482918"], ["updated_at", "2017-05-01 03:16:53.482918"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up?referral_code=ZjdK9X9sgIOKe6X7l_4JxA" for 127.0.0.1 at 2017-04-30 23:16:53 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"ZjdK9X9sgIOKe6X7l_4JxA"}
  Rendered users/registrations/new.html.erb within layouts/application (401.3ms)
Completed 200 OK in 627ms (Views: 615.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:16:54 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"ZjdK9X9sgIOKe6X7l_4JxA", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "kZvt2J3FjIlt5jq0Xo0smQ"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$UIvMCYlymA8tYl8tDTVUrehRDAVKcLcGyYlwwMI3qJ4JWbQN.F5zC"], ["name", "New user"], ["created_at", "2017-05-01 03:16:54.161421"], ["updated_at", "2017-05-01 03:16:54.161421"], ["referral_code", "kZvt2J3FjIlt5jq0Xo0smQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2017-05-01 03:16:54.164409"], ["current_sign_in_at", "2017-05-01 03:16:54.164409"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:16:54.165078"], ["id", 17]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "ZjdK9X9sgIOKe6X7l_4JxA"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "referrer_id" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["referrer_id", 16], ["updated_at", "2017-05-01 03:16:58.608001"], ["id", 17]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 4453ms (ActiveRecord: 2.4ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:16:58 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.6ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 17]]
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "j9CexNn0yKssk0jnopjseg"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test"], ["email", "test@test.com"], ["referral_code", "j9CexNn0yKssk0jnopjseg"], ["encrypted_password", "$2a$04$V7WJZ1y1nDuR7AO5htMr..XUFq2UA0b5aYsC9sZJK.OFoIqHIXLcW"], ["created_at", "2017-05-01 03:17:47.026619"], ["updated_at", "2017-05-01 03:17:47.026619"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up?referral_code=j9CexNn0yKssk0jnopjseg" for 127.0.0.1 at 2017-04-30 23:17:47 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"j9CexNn0yKssk0jnopjseg"}
  Rendered users/registrations/new.html.erb within layouts/application (384.7ms)
Completed 200 OK in 613ms (Views: 602.0ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:17:47 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"j9CexNn0yKssk0jnopjseg", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "TNzIBqTKH5WY6hoPQiKoXg"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$LYiyX9aVR9dPBvBuFeDaw.MjPjxRcgn4ZyWYUDZ/4oodVTaD4AHNK"], ["name", "New user"], ["created_at", "2017-05-01 03:17:47.690058"], ["updated_at", "2017-05-01 03:17:47.690058"], ["referral_code", "TNzIBqTKH5WY6hoPQiKoXg"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2017-05-01 03:17:47.693000"], ["current_sign_in_at", "2017-05-01 03:17:47.693000"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:17:47.693584"], ["id", 19]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "j9CexNn0yKssk0jnopjseg"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "referrer_id" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["referrer_id", 18], ["updated_at", "2017-05-01 03:17:47.711455"], ["id", 19]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 27ms (ActiveRecord: 2.1ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:17:47 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.6ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 19]]
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 1.5ms)
Started GET "/users/19" for 127.0.0.1 at 2017-04-30 23:17:47 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 19]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mHackathon Load (0.4ms)[0m  [1mSELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC[0m  [["user_id", 19]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 19]]
  Rendered users/show.html.erb within layouts/application (20.8ms)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 2.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "yPt6Yaiq1sFYK4VbYcJsDA"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test Name"], ["email", "test@test.com"], ["referral_code", "yPt6Yaiq1sFYK4VbYcJsDA"], ["encrypted_password", "$2a$04$EVuGa.eiLOvCne0eCMpLA.q7QDkVuCrQBmS5/WUkMMpzYqRlfWyNW"], ["created_at", "2017-05-01 03:18:33.140557"], ["updated_at", "2017-05-01 03:18:33.140557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up?referral_code=yPt6Yaiq1sFYK4VbYcJsDA" for 127.0.0.1 at 2017-04-30 23:18:33 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"yPt6Yaiq1sFYK4VbYcJsDA"}
  Rendered users/registrations/new.html.erb within layouts/application (404.3ms)
Completed 200 OK in 630ms (Views: 619.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:18:33 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"yPt6Yaiq1sFYK4VbYcJsDA", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "9gNgZAUpu5Q6Swwx8TIsBg"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$QCDliZujGkx5w7NBExSPtePR7y6QquUIfZ9WSbQaAmMsKZDHuawPm"], ["name", "New user"], ["created_at", "2017-05-01 03:18:33.821052"], ["updated_at", "2017-05-01 03:18:33.821052"], ["referral_code", "9gNgZAUpu5Q6Swwx8TIsBg"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2017-05-01 03:18:33.823394"], ["current_sign_in_at", "2017-05-01 03:18:33.823394"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:18:33.823913"], ["id", 21]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "yPt6Yaiq1sFYK4VbYcJsDA"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "referrer_id" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["referrer_id", 20], ["updated_at", "2017-05-01 03:18:33.841542"], ["id", 21]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 26ms (ActiveRecord: 1.9ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:18:33 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.6ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 21]]
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 1.3ms)
Started GET "/users/21" for 127.0.0.1 at 2017-04-30 23:18:33 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mHackathon Load (0.3ms)[0m  [1mSELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC[0m  [["user_id", 21]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 21]]
  Rendered users/show.html.erb within layouts/application (20.0ms)
Completed 200 OK in 27ms (Views: 23.2ms | ActiveRecord: 2.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "JVDlUoCEpcVS6eCfw0szQQ"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "referral_code", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "Test Name"], ["email", "test@test.com"], ["referral_code", "JVDlUoCEpcVS6eCfw0szQQ"], ["encrypted_password", "$2a$04$yN1cZkxjkalFUAhiyPPFbubr7PytK2LyFeQWl.iXknTk47W1r3SSS"], ["created_at", "2017-05-01 03:20:16.537371"], ["updated_at", "2017-05-01 03:20:16.537371"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up?referral_code=JVDlUoCEpcVS6eCfw0szQQ" for 127.0.0.1 at 2017-04-30 23:20:16 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"JVDlUoCEpcVS6eCfw0szQQ"}
  Rendered users/registrations/new.html.erb within layouts/application (394.9ms)
Completed 200 OK in 626ms (Views: 614.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:20:17 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"JVDlUoCEpcVS6eCfw0szQQ", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "YyezGzRWepnj0EULh1bpsw"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$o0VuVOcg8ikRkrRzI/7DK.whYslhchedvEcVS0osYfhZpNsMEEHCq"], ["name", "New user"], ["created_at", "2017-05-01 03:20:17.206459"], ["updated_at", "2017-05-01 03:20:17.206459"], ["referral_code", "YyezGzRWepnj0EULh1bpsw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2017-05-01 03:20:17.208744"], ["current_sign_in_at", "2017-05-01 03:20:17.208744"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:20:17.209279"], ["id", 23]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1  [["referral_code", "JVDlUoCEpcVS6eCfw0szQQ"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "referrer_id" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["referrer_id", 22], ["updated_at", "2017-05-01 03:20:17.227587"], ["id", 23]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 27ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:20:17 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.6ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 23]]
Completed 200 OK in 13ms (Views: 8.5ms | ActiveRecord: 1.3ms)
Started GET "/users/23" for 127.0.0.1 at 2017-04-30 23:20:17 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mHackathon Load (0.7ms)[0m  [1mSELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC[0m  [["user_id", 23]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 23]]
  Rendered users/show.html.erb within layouts/application (21.6ms)
Completed 200 OK in 28ms (Views: 24.3ms | ActiveRecord: 2.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/users/sign_up?referral_code=wrong_code" for 127.0.0.1 at 2017-04-30 23:20:17 -0400
Processing by RegistrationsController#new as HTML
  Parameters: {"referral_code"=>"wrong_code"}
  Rendered users/registrations/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2017-04-30 23:20:17 -0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "referral_code"=>"wrong_code", "user"=>{"name"=>"New user", "email"=>"new_user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: password_confirmation
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'new_user@email.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "50bj6BH8m1R6GUtBnDO_fA"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["email", "new_user@email.com"], ["encrypted_password", "$2a$04$xUVcQHX6DmBdrVmW25mIReM5IpjBy16rJCBG1ePDlJ/OYST4YWpa."], ["name", "New user"], ["created_at", "2017-05-01 03:20:17.307721"], ["updated_at", "2017-05-01 03:20:17.307721"], ["referral_code", "50bj6BH8m1R6GUtBnDO_fA"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2017-05-01 03:20:17.309777"], ["current_sign_in_at", "2017-05-01 03:20:17.309777"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-05-01 03:20:17.310238"], ["id", 24]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."referral_code" = $1 LIMIT 1[0m  [["referral_code", "wrong_code"]]
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
Started GET "/" for 127.0.0.1 at 2017-04-30 23:20:17 -0400
Processing by WelcomeController#index as HTML
  [1m[35mHackathon Load (0.2ms)[0m  SELECT "hackathons".* FROM "hackathons"  ORDER BY "hackathons"."date" ASC
  Rendered welcome/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 24]]
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms)
Started GET "/users/24" for 127.0.0.1 at 2017-04-30 23:20:17 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 24]]
  [1m[35mHackathon Load (0.3ms)[0m  SELECT "hackathons".* FROM "hackathons" INNER JOIN "hackathon_users" ON "hackathons"."id" = "hackathon_users"."hackathon_id" WHERE "hackathon_users"."user_id" = $1  ORDER BY "hackathons"."date" ASC  [["user_id", 24]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 24]]
  Rendered users/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
